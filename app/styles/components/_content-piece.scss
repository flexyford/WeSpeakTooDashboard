.content-piece {
  background: $white;
  cursor: pointer;
  display: block;
  margin-bottom: 1em;
  border-radius: 10px;
  transition: $default-transition;

  &.active {
    border-bottom: solid;
    border-bottom-width: 0.25em;
    border-bottom-color: rgb(247, 77, 123);
  }

  &.selected {
    border: solid;
    border-width: 0.25em;
    border-color: rgb(247, 77, 123);
    background-color: rgba(247, 77, 123, 0.1);
  }

  &:hover {
    @include hover-transition(box-shadow);
    box-shadow: 0px 16px 35px 0px rgba(0,0,0,.15);
    text-decoration: none;
  }

  // The blog index card isn't clickable, so we shouldn't highlight it on hover
  &.blog-index {
    &:hover {
      box-shadow: none;
      cursor: default;
    }
  }

  &.loading {
    animation: pulse 1s infinite;
    animation-direction: alternate-reverse;
    @keyframes pulse {
      0% {
        opacity: 0.3;
      }
      100% {
        opacity: 0.8;
      }
    }
  }
}

.content-piece-image-container {
  padding-bottom: 61.803%; // golden ratio
  position: relative;
}

.content-piece-image {
  left: 0;
  opacity: 0.25;
  position: absolute;
  top: 0;
  padding: 1.125em;
  width: 100%;
  height: 100%;
  // TODO: maybe not this
  object-fit: contain;
}

.content-piece.selected .content-piece-image {
  opacity: 0.8;
}

.content-piece-body {
  position: relative;
  background-image: url('../images/right-arrow.svg');
  background-position: 90% 90%;
  background-repeat: no-repeat;
  min-height: 5em;
  padding-left: 1.125em;

  &.alt-height {
    height: auto;
  }

  &.no-arrow {
    background-image: none;
  }
}

.content-piece-title {
  color: $picton-blue;
  font-family: $semi-bold;
  font-size: 1.25em;
}

.content-piece-info {
  bottom: 0px;
  position: absolute;
}

.content-piece-category {
  font-size: 0.7em;
  text-transform: uppercase;
  color: $french-rose;
  font-family: $semi-bold;
  padding-right: 5px;
}

.content-piece-members {
  font-size: 0.7em;
  text-transform: uppercase;
  color: $regent-gray;
  font-family: $semi-bold;
  padding-right: 5px;
}

.content-piece-text {
  font-family: $light;

  img {
    width: 100%; // images in the first 100 words of a blog post.
  }

  blockquote {
    font-size: 1.25em;
  }
}

.content-piece-cta {
  color: $french-rose;
  font-family: $semi-bold;
  transition: $default-transition;

  &:hover {
    text-decoration: none;
  }
}

//
// Alt Content Piece (uses dark background with white text)
//

.alt-container {
  display: flex;
  flex-flow: row wrap;
  align-content: space-around;
}
.alt-content-piece {
  background-color: $trout;
  flex: 1 0 80%;
  margin-right: $spacer;
  margin-bottom: $spacer * 6;
  margin-left: $spacer;
  padding: $spacer * 2;

  @include breakpoint($breakpoint-medium-up) {
    flex: 1;
    padding-top: $spacer * 3;
    padding-right: $spacer * 3;
    padding-left: $spacer * 3;
    margin-right: $spacer * 2;
    margin-left: $spacer * 2;
  }

  // Here to give the button an absolute positioning reference without screwing up the flexbox flow of the parent element
  .inner {
    height: 100%;
    position: relative;
  }

  h5 {
    color: $white;
    font-family: $semi-bold;
    margin-bottom: $spacer * 1.5;
  }

  p {
    color: darken($athens-gray, 20%);
    font-family: $light;
    margin-bottom: $spacer * 1.5;

    @include breakpoint($breakpoint-large-up) {
      margin-bottom: $spacer * 3;
    }

    &:first-of-type {
      text-transform: uppercase;
      font-size: 0.8em;
    }
  }
}
